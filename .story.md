---
focus: ParallelForEachAsync/Program.cs
---

# Parallel.ForEachAsync

`Parallel.ForEachAsync` allows you to control the degree of parallelism for scheduled asynchronous work. Basically, it is a copy of well-known `Parallel.ForEach`, but supports asynchronous scenarios. Not only it allows to write scalable asynchronous code, but also it [supports](ParallelForEachAsync/Program.cs:3) `IAsyncEnumerable{T}`.

In [this example](ParallelForEachAsync/Program.cs:3-5), we generate infinite collection based on async generator until the processing [is completed](ParallelForEachAsync/Program.cs:4). Every generated item is processed in `Handle` method. Handle method is passed as method group.

Note, that `Parallel.ForEach` returns `System.Threading.Tasks.Task`. We used another feature of .NET 6 - `Task.WaitAsync`, please see official documentation for more details.

## Reference

* [dotnet/api/system.threading.tasks.task.waitasync](https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task.waitasync?view=net-6.0)
* [dotnet/api/system.threading.tasks.parallel.foreachasync?view=net-6.0](https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.parallel.foreachasync?view=net-6.0)
